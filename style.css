:root {
    --bg: #0f172a;           /* Xanh đen thẫm */
    --panel: #1e293b;        /* Màu nền khối */
    --text: #f1f5f9;         /* Màu chữ trắng sáng */
    --accent: #38bdf8;       /* Xanh dương sáng */
    --accent-break: #4ade80; /* Xanh lá */
    --danger: #f43f5e;       /* Đỏ */
    --border-color: #334155;
}

* { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', sans-serif; }

body { background-color: var(--bg); color: var(--text); height: 100vh; overflow: hidden; }

/* Bố cục chia đôi màn hình (50% - 50%) */
.main-container { display: flex; height: 100%; width: 100%; }

/* --- CỘT TRÁI --- */
.left-zone {
    width: 50%;
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    border-right: 1px solid var(--border-color); padding: 20px;
    position: relative;
}

#username {
    background: transparent; border: none; border-bottom: 2px solid var(--border-color);
    color: var(--accent); font-size: 1.5rem; text-align: center; padding: 10px; width: 60%;
    outline: none; margin-bottom: 20px; font-weight: bold;
}

/* KHỐI ĐỒNG HỒ HÌNH VUÔNG */
.timer-wrapper { position: relative; width: 320px; height: 320px; margin-bottom: 30px; }

/* SVG xoay -90 độ để bắt đầu chạy từ trên đỉnh */
.timer-svg { transform: rotate(-90deg); overflow: visible; }

.stroke-bg {
    fill: none; stroke: var(--border-color); stroke-width: 10;
}

.stroke-run {
    fill: none;
    stroke: url(#gradientColor); /* Dùng màu Gradient */
    stroke-width: 10;
    stroke-linecap: round; /* Đầu nét tròn */
    /* stroke-dasharray sẽ được JS tính toán */
    transition: stroke-dashoffset 1s linear;
}

.timer-content {
    position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
    text-align: center; width: 100%;
}

#timer-text { font-size: 4.5rem; font-weight: 800; letter-spacing: -2px; line-height: 1; }
#timer-status { font-size: 1rem; color: #94a3b8; margin-top: 5px; text-transform: uppercase; letter-spacing: 2px; }

/* Nút điều khiển */
.control-panel { width: 100%; max-width: 320px; display: flex; flex-direction: column; gap: 12px; }
.quick-select, .custom-time, .action-buttons { display: flex; gap: 10px; }

button {
    flex: 1; padding: 12px; border-radius: 8px; border: none; cursor: pointer;
    background: var(--panel); color: var(--text); font-weight: 600; transition: 0.2s;
}
button:hover { background: #334155; }
.break { color: var(--accent-break); }

.custom-time input {
    background: var(--panel); border: 1px solid var(--border-color); color: var(--text);
    padding: 10px; border-radius: 8px; width: 70%; text-align: center;
}

#btn-main { background: var(--accent); color: #0f172a; flex: 3; font-size: 1.1rem; }
#btn-reset { background: var(--panel); color: var(--danger); flex: 1; font-size: 1.2rem; }
.fullscreen-toggle { background: transparent; border: 1px dashed var(--border-color); color: #94a3b8; font-size: 0.9rem; }

/* --- CỘT PHẢI --- */
.right-zone {
    width: 50%; background: #0b1120;
    padding: 25px; display: flex; flex-direction: column; gap: 20px;
}

.tool-box {
    background: var(--panel); border-radius: 16px; padding: 20px;
    display: flex; flex-direction: column;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
}

.task-box { flex: 1; overflow-y: auto; } /* Chiếm 50% */
.note-box { flex: 1; } /* Chiếm 50% */

h3 { margin-bottom: 15px; color: var(--accent); display: flex; align-items: center; justify-content: space-between; }
#task-count { background: var(--bg); padding: 2px 8px; border-radius: 10px; font-size: 0.8rem; }

/* Task List */
.task-add-row { display: flex; gap: 10px; margin-bottom: 15px; }
#task-inp { flex: 1; padding: 10px; background: var(--bg); border: none; color: white; border-radius: 6px; }
#task-list { list-style: none; }
#task-list li {
    background: var(--bg); margin-bottom: 8px; padding: 12px; border-radius: 8px;
    display: flex; justify-content: space-between; align-items: center; cursor: pointer;
    border-left: 3px solid transparent;
}
#task-list li:hover { border-left-color: var(--accent); }
#task-list li.done { opacity: 0.5; text-decoration: line-through; }
.del-task { color: var(--danger); background: none; width: auto; padding: 0 5px; }

/* Note Area */
#note-area {
    width: 100%; height: 100%; background: transparent; border: none; resize: none;
    color: #cbd5e1; font-size: 1rem; line-height: 1.6; outline: none;
}

/* Chế độ toàn màn hình */
body.fullscreen .main-container { padding: 0; }
body.fullscreen .left-zone, body.fullscreen .right-zone { border: none; }
